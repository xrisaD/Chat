{"version":3,"sources":["components/Login.js","components/Home.js","components/Signup.js","Interceptors.js","components/Chat.js","components/Dashboard.js","App.js","reportWebVitals.js","index.js"],"names":["Login","navigate","useNavigate","useState","username","setUsername","password","setPassword","errorExists","setErrorExists","event","a","preventDefault","user_object","axios","post","process","then","res","localStorage","setItem","data","token","catch","error","response","status","alert","Form","onSubmit","Group","className","controlId","Label","Control","size","type","placeholder","value","onChange","e","target","Text","Button","variant","SignUpAndLoginButton","isAuth","setIsAuth","goToLogIn","goToSignUp","goToDashboard","useEffect","getItem","Row","Col","onClick","returnButtons","Home","Signup","validated","setValidated","firstname","setFirstname","lastname","setLastname","email","setEmail","city","setCity","zipCode","setZipCode","errors","setErrors","allErrors","currentTarget","checkValidity","stopPropagation","Container","noValidate","as","md","required","Feedback","InputGroup","hasValidation","isInvalid","Check","label","feedback","feedbackType","require","myInterceptor","jwtToken","interceptors","request","use","config","headers","err","Promise","reject","Chat","props","handleMessageChange","setState","content","handleFileChange","file","files","sendMessage","parentCallback","state","roomId","downloadTxtFile","element","document","createElement","fileBlob","Blob","contentType","href","URL","createObjectURL","download","name","body","appendChild","click","id","selectedRoomName","messages","this","map","i","addFile","time","React","Component","stompClient","Dashboard","connect","Stomp","SockJS","over","onConnected","onError","rooms","forEach","room","get","prevState","subscribe","onMessageReceived","payload","JSON","parse","selectedRoom","newNotifications","notifications","push","newMessages","selectRoom","index","indexOf","splice","getRooms","includes","showSelectedRoom","logout","clear","formData","FormData","append","chatMessage","stringify","unsubscribe","WithNavigate","IsAuth","children","redirectTo","to","RequireAuth","isAuthenticated","setIsAuthenticated","loading","setLoading","console","log","Spinner","animation","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","window","React1"],"mappings":"0PAyDeA,EAlDD,WACZ,IAAMC,EAAWC,cAEjB,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAsCJ,oBAAS,GAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KALkB,4CAOlB,WAAgCC,GAAhC,eAAAC,EAAA,sDACED,EAAME,iBAEAC,EAAc,CAClBT,SAAUA,EACVE,SAAUA,GAGZQ,IAAMC,KAAKC,oCAA8CH,GAAaI,MAAK,SAAAC,GACvEC,aAAaC,QAAQ,mBAAmB,GACxCD,aAAaC,QAAQ,gBAAiBF,EAAIG,KAAKC,OAC/CrB,EAASe,sBACVO,OAAM,SAAAC,GACPL,aAAaC,QAAQ,mBAAmB,GACpCI,EAAMC,UAAsC,MAA1BD,EAAMC,SAASC,OACnCjB,GAAe,GAEfkB,MAAM,4CAjBZ,4CAPkB,sBA6BlB,OACE,eAACC,EAAA,EAAD,CAAMC,SA9BU,4CA8BhB,UACE,eAACD,EAAA,EAAKE,MAAN,CAAYC,UAAU,OAAOC,UAAU,iBAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,wBACA,cAACL,EAAA,EAAKM,QAAN,CAAcC,KAAK,KAAKC,KAAK,WAAWC,YAAY,gBAAiBC,MAAOlC,EAAUmC,SAAU,SAAAC,GAAC,OAAInC,EAAYmC,EAAEC,OAAOH,aAG5H,eAACV,EAAA,EAAKE,MAAN,CAAYC,UAAU,OAAOC,UAAU,oBAAvC,UACE,cAACJ,EAAA,EAAKK,MAAN,wBACA,cAACL,EAAA,EAAKM,QAAN,CAAcC,KAAK,KAAKC,KAAK,WAAWC,YAAY,WAAWC,MAAOhC,EAAUiC,SAAU,SAAAC,GAAC,OAAIjC,EAAYiC,EAAEC,OAAOH,UACnH9B,GAAe,cAACoB,EAAA,EAAKc,KAAN,CAAWX,UAAU,aAArB,8CAGlB,cAACY,EAAA,EAAD,CAAQC,QAAQ,UAAUR,KAAK,SAA/B,uB,gBChCAS,EAAuB,WAC3B,IAAM5C,EAAWC,cACjB,EAA4BC,mBAAS,MAArC,mBAAO2C,EAAP,KAAeC,EAAf,KAFiC,SASlBC,IATkB,2EASjC,sBAAArC,EAAA,sDACEV,EAASe,eADX,4CATiC,+BAalBiC,IAbkB,2EAajC,sBAAAtC,EAAA,sDACEV,EAASe,gBADX,4CAbiC,+BAiBlBkC,IAjBkB,2EAiBjC,sBAAAvC,EAAA,sDACEV,EAASe,mBADX,4CAjBiC,sBAIjCmC,qBAAU,WACRJ,EAAU5B,aAAaiC,QAAQ,sBAC9B,CAACN,IAyBJ,OAAO,cAACO,EAAA,EAAD,CAAKtB,UAAU,OAAf,SATe,SAACe,GACrB,OAAe,OAAXA,GAA8B,UAAXA,IAAiC,IAAXA,EAClC,qCAAE,cAACQ,EAAA,EAAD,UAAK,cAACX,EAAA,EAAD,CAAQY,QAASN,EAAjB,uBACV,cAACK,EAAA,EAAD,UAAK,cAACX,EAAA,EAAD,CAAQY,QAASP,EAAjB,yBACQ,SAAVF,IAA+B,IAAXA,EACtB,cAACQ,EAAA,EAAD,UAAK,cAACX,EAAA,EAAD,CAAQY,QAASL,EAAjB,8BADP,EAMFM,CAAcV,MAIRW,EA/CF,WAEX,OACE,gCACI,yCACCZ,Q,gBCgJMa,EA/IA,WACb,IAAMzD,EAAWC,cAEjB,EAAkCC,oBAAS,GAA3C,mBAAOwD,EAAP,KAAkBC,EAAlB,KACA,EAAkCzD,mBAAS,IAA3C,mBAAO0D,EAAP,KAAkBC,EAAlB,KACA,EAAgC3D,mBAAS,IAAzC,mBAAO4D,EAAP,KAAiBC,EAAjB,KACA,EAAgC7D,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BF,mBAAS,IAAnC,mBAAO8D,EAAP,KAAcC,EAAd,KACA,EAAwB/D,mBAAS,IAAjC,mBAAOgE,EAAP,KAAaC,EAAb,KACA,EAA8BjE,mBAAS,IAAvC,mBAAOkE,EAAP,KAAgBC,EAAhB,KACA,EAAgCnE,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA4BJ,mBAAS,IAArC,mBAAOoE,EAAP,KAAeC,EAAf,KAXmB,4CAcnB,WAA4B9D,GAA5B,iBAAAC,EAAA,sDACED,EAAME,iBACA6D,EAAY,IAEW,IADhB/D,EAAMgE,cACVC,iBACPjE,EAAMkE,kBACNhB,GAAa,KAEP/C,EAAc,CAChBT,SAAUA,EACVE,SAAUA,EACVuD,UAAWA,EACXE,SAAUA,EACVE,MAAOA,EACPE,KAAMA,EACNE,QAASA,GAIXvD,IAAMC,KAAKC,qCAA+CH,GAAaI,MAAK,SAAAC,GAC1EC,aAAaC,QAAQ,mBAAmB,GACxCD,aAAaC,QAAQ,gBAAiBF,EAAIG,KAAKC,OAC/CrB,EAASe,sBACRO,OAAM,SAAAC,GACHA,EAAMC,UAAsC,MAA1BD,EAAMC,SAASC,QACnC+C,EAAUrE,SAAW,mDACrBoE,EAAUC,IAEV9C,MAAM,0CAERiC,GAAa,OA9BrB,4CAdmB,sBAkDnB,OACE,cAACiB,EAAA,EAAD,UACA,eAACjD,EAAA,EAAD,CAAMkD,YAAU,EAACnB,UAAWA,EAAW9B,SApDtB,4CAoDjB,UAEE,eAACwB,EAAA,EAAD,CAAKtB,UAAU,OAAf,UACE,eAACH,EAAA,EAAKE,MAAN,CAAYiD,GAAIzB,IAAK0B,GAAG,IAAIhD,UAAU,qBAAtC,UACE,cAACJ,EAAA,EAAKK,MAAN,2BACA,cAACL,EAAA,EAAKM,QAAN,CACE+C,UAAQ,EACR7C,KAAK,OACLC,YAAY,aACZC,MAAOuB,EAAWtB,SAAU,SAAAC,GAAC,OAAIsB,EAAatB,EAAEC,OAAOH,UAEzD,cAACV,EAAA,EAAKM,QAAQgD,SAAd,CAAuB9C,KAAK,UAA5B,6CAEF,eAACR,EAAA,EAAKE,MAAN,CAAYiD,GAAIzB,IAAK0B,GAAG,IAAIhD,UAAU,qBAAtC,UACE,cAACJ,EAAA,EAAKK,MAAN,0BACA,cAACL,EAAA,EAAKM,QAAN,CACE+C,UAAQ,EACR7C,KAAK,OACLC,YAAY,YACZC,MAAOyB,EAAUxB,SAAU,SAAAC,GAAC,OAAIwB,EAAYxB,EAAEC,OAAOH,UAEvD,cAACV,EAAA,EAAKM,QAAQgD,SAAd,CAAuB9C,KAAK,UAA5B,4CAEF,eAACR,EAAA,EAAKE,MAAN,CAAYiD,GAAIzB,IAAK0B,GAAG,IAAIhD,UAAU,2BAAtC,UACE,cAACJ,EAAA,EAAKK,MAAN,yBACA,eAACkD,EAAA,EAAD,CAAYC,eAAa,EAAzB,UACE,cAACxD,EAAA,EAAKM,QAAN,CACEE,KAAK,OACLC,YAAY,WACZ,mBAAiB,oBACjB4C,UAAQ,EACRI,YAAad,EAAOnE,SACpBkC,MAAOlC,EAAUmC,SAAU,SAAAC,GAAC,OAAInC,EAAYmC,EAAEC,OAAOH,UAEvD,cAACV,EAAA,EAAKM,QAAQgD,SAAd,CAAuB9C,KAAK,UAA5B,SACGmC,EAAOnE,oBAOhB,eAACiD,EAAA,EAAD,CAAKtB,UAAU,OAAf,UACE,eAACH,EAAA,EAAKE,MAAN,CAAYiD,GAAIzB,IAAK0B,GAAG,IAAIhD,UAAU,iBAAtC,UACE,cAACJ,EAAA,EAAKK,MAAN,sBACA,cAACL,EAAA,EAAKM,QAAN,CAAc+C,UAAQ,EAAC7C,KAAK,QAAQC,YAAY,cAAcC,MAAO2B,EAAO1B,SAAU,SAAAC,GAAC,OAAI0B,EAAS1B,EAAEC,OAAOH,UAC7G,cAACV,EAAA,EAAKM,QAAQgD,SAAd,CAAuB9C,KAAK,UAA5B,4CAGF,eAACR,EAAA,EAAKE,MAAN,CAAYiD,GAAIzB,IAAK0B,GAAG,IAAIhD,UAAU,qBAAtC,UACE,cAACJ,EAAA,EAAKK,MAAN,qBACA,cAACL,EAAA,EAAKM,QAAN,CAAcE,KAAK,OAAOC,YAAY,OAAO4C,UAAQ,EAAC3C,MAAO6B,EAAM5B,SAAU,SAAAC,GAAC,OAAI4B,EAAQ5B,EAAEC,OAAOH,UACnG,cAACV,EAAA,EAAKM,QAAQgD,SAAd,CAAuB9C,KAAK,UAA5B,6CAKF,eAACR,EAAA,EAAKE,MAAN,CAAYiD,GAAIzB,IAAK0B,GAAG,IAAIhD,UAAU,qBAAtC,UACE,cAACJ,EAAA,EAAKK,MAAN,yBACA,cAACL,EAAA,EAAKM,QAAN,CAAcE,KAAK,OAAOC,YAAY,MAAM4C,UAAQ,EAAC3C,MAAO+B,EAAS9B,SAAU,SAAAC,GAAC,OAAI8B,EAAW9B,EAAEC,OAAOH,UACxG,cAACV,EAAA,EAAKM,QAAQgD,SAAd,CAAuB9C,KAAK,UAA5B,+CAMJ,cAACiB,EAAA,EAAD,CAAKtB,UAAU,OAAf,SACE,eAACH,EAAA,EAAKE,MAAN,CAAYiD,GAAIzB,IAAK0B,GAAG,IAAIhD,UAAU,oBAAtC,UACE,cAACJ,EAAA,EAAKK,MAAN,yBACA,cAACL,EAAA,EAAKM,QAAN,CAAcE,KAAK,WAAWC,YAAY,WAAW4C,UAAQ,EAAC3C,MAAOhC,EAAUiC,SAAU,SAAAC,GAAC,OAAIjC,EAAYiC,EAAEC,OAAOH,UACnH,cAACV,EAAA,EAAKM,QAAQgD,SAAd,CAAuB9C,KAAK,UAA5B,8CAMJ,cAACR,EAAA,EAAKE,MAAN,CAAYC,UAAU,OAAtB,SACE,cAACH,EAAA,EAAK0D,MAAN,CACEL,UAAQ,EACRM,MAAM,gCACNC,SAAS,oCACTC,aAAa,cAGjB,cAAC9C,EAAA,EAAD,CAAQP,KAAK,SAAb,+BCpJFtB,EAAQ4E,EAAQ,IAGb,SAASC,IACf,IAAMC,EAAWzE,aAAaiC,QAAQ,iBACtCtC,EAAM+E,aAAaC,QAAQC,KAC1B,SAASC,GAIP,OAHIJ,IACFI,EAAOC,QAAP,cAAkC,UAAYL,GAEzCI,KAET,SAASE,GACP,OAAOC,QAAQC,OAAOF,M,6FCmFXG,E,kDAvFb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAaRC,oBAAsB,SAAC/D,GACrB,EAAKgE,SAAS,CAACC,QAASjE,EAAEC,OAAOH,SAfhB,EAkBnBoE,iBAAmB,SAAClE,GAClB,EAAKgE,SAAS,CAACG,KAAMnE,EAAEC,OAAOmE,MAAM,MAnBnB,EAsBnBC,YAAc,SAACnG,GACbA,EAAME,iBACN,EAAK0F,MAAMQ,eAAe,EAAKC,MAAMN,QAAS,EAAKM,MAAMC,OAAQ,EAAKD,MAAMJ,OAxB3D,EA2BnBM,gBAAkB,SAACN,GACjB,IAAMO,EAAUC,SAASC,cAAc,KACjCC,EAAW,IAAIC,KAAK,CAACX,EAAKF,SAAU,CACxCrE,KAAMuE,EAAKY,cAEbL,EAAQM,KAAOC,IAAIC,gBAAgBL,GACnCH,EAAQS,SAAWhB,EAAKiB,KACxBT,SAASU,KAAKC,YAAYZ,GAC1BA,EAAQa,SAjCR,EAAKhB,MACH,CACE3G,SAAUkG,EAAMlG,SAChB4G,OAAQV,EAAM0B,GACdvB,QAAS,GACTE,KAAM,KACNsB,iBAAkB3B,EAAM2B,iBACxBC,SAAU5B,EAAM4B,UATH,E,2CAsCnB,SAAQvB,GAAO,IAAD,OACZ,GAAa,OAATA,EACF,OAAO,cAAC,IAAD,CAAgBpD,QAAU,kBAAM,EAAK0D,gBAAgBN,IAArD,wB,oBAIX,WAAU,IAAD,OACL,OACA,sBAAK5E,UAAU,iBAAf,UACE,6BAAKoG,KAAKpB,MAAMkB,mBAChB,qBAAKlG,UAAU,qBAAf,SACCoG,KAAKpB,MAAMmB,SAASE,KAAI,SAAC9F,EAAO+F,GAC/B,OAAI/F,EAAMlC,WAAa,EAAK2G,MAAM3G,SACxB,sBAAK2B,UAAU,oBAAf,UACJ,cAAC8C,EAAA,EAAD,UACE,eAACxB,EAAA,EAAD,CAAKtB,UAAU,4BAAf,UACA,cAACuB,EAAA,EAAD,UAAK,kCAAKhB,EAAMlC,cAChB,eAACkD,EAAA,EAAD,CAAM0B,GAAG,OAAT,UAAgB,4BAAI1C,EAAMmE,UAA1B,OACA,cAACnD,EAAA,EAAD,UAAM,EAAKgF,QAAQhG,EAAMqE,aAG3B,sBAAM5E,UAAU,YAAhB,SAA6BO,EAAMiG,SARSF,GAYhD,sBAAKtG,UAAU,2BAAf,UACE,cAAC8C,EAAA,EAAD,UACA,eAACxB,EAAA,EAAD,CAAKtB,UAAU,4BAAf,UACE,cAACuB,EAAA,EAAD,UAAK,sCACL,cAACA,EAAA,EAAD,CAAM0B,GAAG,OAAT,SAAgB,4BAAI1C,EAAMmE,YAC1B,cAACnD,EAAA,EAAD,UAAM,EAAKgF,QAAQhG,EAAMqE,aAGzB,sBAAM5E,UAAU,aAAhB,SAA8BO,EAAMiG,SAROF,QAcnD,uBAAMtG,UAAU,eAAhB,UACE,uBAAOK,KAAK,OAAO4F,GAAG,OAAOJ,KAAK,OAAOrF,SAAU4F,KAAKzB,mBACxD,uBAAO3E,UAAU,gBAAgBK,KAAK,OAAOwF,KAAK,OAAOvF,YAAY,oBAAoBC,MAAO6F,KAAKpB,MAAMN,QAASlE,SAAU4F,KAAK5B,sBACnI,uBAAOnE,KAAK,SAASE,MAAM,OAAOiB,QAAS4E,KAAKtB,wB,GAlFvC2B,IAAMC,WCIrBC,EAAc,KACZC,E,kDAEF,WAAYrC,GAAQ,IAAD,8BACf,cAAMA,IAcVsC,QAAU,WACN,IAAMhD,EAAWzE,aAAaiC,QAAQ,iBAChCyF,EAAQnD,EAAQ,KAClBoD,EAASpD,EAAQ,KACrBoD,EAAS,IAAIA,EAAO9H,2CAAsD4E,IAC1E8C,EAAcG,EAAME,KAAKD,IACbF,QAAQ,GAAI,EAAKI,YAAa,EAAKC,UArBhC,EAwBnBD,YAAc,WAEV,EAAKjC,MAAMmC,MAAMC,SAAS,SAACC,GACvB,IAAIpB,EAAKoB,EAAKpB,GACdlH,IAAMuI,IAAIrI,kCAA6CgH,GAAM/G,MAAK,SAAAC,GAChE,EAAKsF,UAAS,SAAA8C,GAAS,MAAK,CACfpB,SAAS,2BACHoB,EAAUpB,UADR,kBAEJF,EAAK9G,EAAIG,WAG1BqH,EAAYa,UAAU,UAAYvB,EAAI,EAAKwB,0BAnClC,EA6DpBA,kBAAoB,SAACC,GAGhB,IAAI5B,EAAO6B,KAAKC,MAAMF,EAAQ5B,MAC9B,GAAIA,EAAKzH,WAAa,EAAK2G,MAAM3G,UAAYyH,EAAKb,SAAW,EAAKD,MAAM6C,aAAc,CAClF,IAAIC,EAAmB,EAAK9C,MAAM+C,cAClCD,EAAiBE,KAAKlC,EAAKb,QAC3B,EAAKR,SAAS,CAACsD,cAAeD,IAIlC,IAAM7B,EAAKH,EAAKb,OAChB,GAAiB,MAAba,EAAKlB,KAEPhB,IACA7E,IAAMuI,IAAIrI,mCAA2C6G,EAAKlB,KAAKqB,IAC9D/G,MAAK,SAAAC,GACF,IAAI8I,EAAc,EAAKjD,MAAMmB,SAASF,GACtCgC,EAAYD,KAAK,CAAC,SAAYlC,EAAKzH,SAAU,QAAWyH,EAAKpB,QAAS,KAAQoB,EAAKU,KAAM,KAAQ,CAAC,KAAOV,EAAKlB,KAAKiB,KAAM,QAAU1G,EAAIG,KAAM,YAAcwG,EAAKlB,KAAKY,eACrK,EAAKf,UAAS,SAAA8C,GAAS,MAAK,CAC1BpB,SAAS,2BACJoB,EAAUpB,UADP,kBAELF,EAAKgC,eAIT,CAEL,IAAIA,EAAc,EAAKjD,MAAMmB,SAASF,GACtCgC,EAAYD,KAAK,CAAC,SAAYlC,EAAKzH,SAAU,QAAWyH,EAAKpB,QAAS,KAAQoB,EAAKU,KAAM,KAAO,OAChG,EAAK/B,UAAS,SAAA8C,GAAS,MAAK,CAC1BpB,SAAS,2BACJoB,EAAUpB,UADP,kBAELF,EAAKgC,UA9FG,EAoGnBf,QAAU,SAACzH,GACP,EAAKgF,SAAS,CACZhF,MAAO,4FAtGM,EA2GnByI,WAAa,SAACb,GACZ,EAAK5C,SAAS,CAACoD,aAAcR,EAAKpB,KAClC,EAAKxB,SAAS,CAACyB,iBAAkBmB,EAAKxB,OAGtC,IAAIiC,EAAmB,EAAK9C,MAAM+C,cAC5BI,EAAQL,EAAiBM,QAAQf,EAAKpB,IACxCkC,GAAS,IACXL,EAAiBO,OAAOF,EAAO,GAC/B,EAAK1D,SAAS,CAACsD,cAAeD,MApHf,EAwHnBQ,SAAW,WACP,GAAwB,MAApB,EAAKtD,MAAMmC,MACb,OAAO,6BACN,EAAKnC,MAAMmC,MAAMd,KAAI,SAACgB,GAAD,OACpB,oBAAkB7F,QAAS,WAAO,EAAK0G,WAAWb,IAAlD,SACE,oBAAGrH,UAAU,YAAb,UAA0BqH,EAAKxB,KAA/B,IAAsC,EAAKb,MAAM+C,cAAcQ,SAASlB,EAAKpB,KAAO,cAAC,IAAD,IAApF,QADOoB,EAAKpB,UA5HH,EAmIlBuC,iBAAmB,WAChB,OAAgC,OAA5B,EAAKxD,MAAM6C,aACJ,oDAID,cAAC,EAAD,CAAoC5B,GAAI,EAAKjB,MAAM6C,aAAcxJ,SAAU,EAAK2G,MAAM3G,SAAU6H,iBAAkB,EAAKlB,MAAMkB,iBAAkBC,SAAU,EAAKnB,MAAMmB,SAAS,EAAKnB,MAAM6C,cAAe9C,eAAgB,EAAKD,aAAjN,EAAKE,MAAM6C,eAzIjB,EA6InBY,OAAS,WACLrJ,aAAasJ,QACb,EAAKnE,MAAMrG,SAASe,WA/IL,EAkJnB6F,YAAc,SAACJ,EAASO,EAAQL,GAE5B,IAAM+D,EAAW,IAAIC,SAErBD,EAASE,OAAO,OAAQjE,GAExB,IAAIkE,EAAc,CAChBpE,QAASA,EACTO,OAAQA,GAGV0D,EAASE,OAAO,OAAQjE,GACxB+D,EAASE,OAAO,UAAW,IAAItD,KAAK,CAACoC,KAAKoB,UAAUD,IAAe,CAAEzI,KAAM,sBAE3EuD,IACA7E,IAAMC,KAAKC,8BAAsC0J,IA/JjD,EAAK3D,MACH,CACE3G,SAAU,GACV8I,MAAO,GACPzC,QAAS,GACTyB,SAAU,GACV1G,MAAO,GACPsI,cAAe,GACfF,aAAc,KACd3B,iBAAkB,MAXP,E,qDA2CnB,WAAqB,IAAD,OAChBnH,IAAMuI,IAAIrI,oCACTC,MAAK,SAAAC,GACF,EAAKsF,SAAS,CAAC0C,MAAOhI,EAAIG,OAC1B,EAAKuH,aAGT9H,IAAMuI,IAAIrI,+BACTC,MAAK,SAAAC,GACF,EAAKsF,SAAS,CAACpG,SAAUc,EAAIG,Y,kCAGrC,WACE8G,KAAKpB,MAAMmC,MAAMC,SAAS,SAACC,GACvB,IAAIpB,EAAKoB,EAAKpB,GACdU,EAAYqC,YAAY,UAAY/C,Q,oBA0G1C,WAAW,IAAD,OACN,OACA,sBAAKjG,UAAU,YAAf,UACI,cAACY,EAAA,EAAD,CAAQY,QAAS,WAAO,EAAKiH,UAA7B,oBACA,qBAAKzI,UAAU,qBAAf,SACA,cAAC8C,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,CAAKtB,UAAU,qBAAf,UACI,eAACuB,EAAA,EAAD,CAAKvB,UAAU,8BAAf,cAA8C,4CAA9C,IAAoEoG,KAAKkC,cACzE,cAAC/G,EAAA,EAAD,CAAKvB,UAAU,cAAf,SAA+BoG,KAAKoC,mC,GA9KhC/B,IAAMC,WA0LfuC,MAJf,SAAsB1E,GAClB,IAAIrG,EAAWC,cACf,OAAO,cAAC,EAAD,2BAAeoG,GAAf,IAAsBrG,SAAUA,M,QCtK3C,SAASgL,EAAT,GAA2C,IAAzBC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,WAE1B,OAAwB,IADAhK,aAAaiC,QAAQ,mBAEpC,cAAC,IAAD,CAAUgI,GAAID,IAEdD,EAGX,SAASG,EAAT,GAAgD,IAAzBH,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,WAE/B,EAA8ChL,mBAAS,MAAvD,mBAAOmL,EAAP,KAAwBC,EAAxB,KACA,EAA8BpL,oBAAS,GAAvC,mBAAOqL,EAAP,KAAgBC,EAAhB,KAsBA,OApBAtI,qBAAU,WAAM,4CACd,4BAAAxC,EAAA,sEAGI8K,GAAW,GAHf,SAIsBpC,IAJtB,OAIUnI,EAJV,OAKIC,aAAaC,QAAQ,kBAAmBF,GACxCqK,EAAmBrK,GAEnBuK,GAAW,GARf,kDAWIA,GAAW,GACXC,QAAQC,IAAR,MAZJ,2DADc,uBAAC,WAAD,wBAgBd7I,KACC,IAGA0I,EACD,cAACI,EAAA,EAAD,CAASC,UAAU,WAGhBP,EAIEJ,EAHL,cAAC,IAAD,CAAUE,GAAID,I,SAMH9B,I,2EAAf,4BAAA1I,EAAA,6DACM2K,EAAkB,KACtB3F,IAFF,SAGQ7E,IAAMuI,IAAIrI,yCACfC,MAAK,SAAAC,GACJoK,GAAkB,KACjB/J,OAAO,SAAAC,GAAW8J,GAAkB,KANzC,gCAOSA,GAPT,4C,sBAUeQ,MAxEf,WACE,OACE,qBAAK/J,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACA,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgK,OAAK,EAACC,KAAMhL,cAAyCkG,QAAS,eAAC+D,EAAD,CAAQE,WAAW,aAAnB,cAAiC,cAAC,EAAD,IAAjC,SACrE,cAAC,IAAD,CAAOY,OAAK,EAACC,KAAMhL,eAA0CkG,QAAS,eAAC+D,EAAD,CAAQE,WAAW,aAAnB,cAAiC,cAAC,EAAD,IAAjC,SACtE,cAAC,IAAD,CAAOY,OAAK,EAACC,KAAMhL,kBAA6CkG,QAAU,eAACmE,EAAD,CAAaF,WAAW,SAAxB,cAAkC,cAAC,EAAD,IAAlC,SAC1E,cAAC,IAAD,CAAOY,OAAK,EAACC,KAAMhL,SAAoCkG,QAAS,cAAC,EAAD,MAChE,cAAC,IAAD,CAAO8E,KAAK,IAAI9E,QAAS,cAAC,IAAD,CAAUkE,GAAIpK,uBCVlCiL,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlL,MAAK,YAAkD,IAA/CmL,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxF,SAASyF,eAAe,SAM1BX,IAEAY,OAAOC,OAASpH,EAAQ,I","file":"static/js/main.93668389.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorExists, setErrorExists] = useState(false);\r\n\r\n  async function handleFormSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const user_object = {\r\n      username: username,\r\n      password: password\r\n    };\r\n\r\n    axios.post(process.env.REACT_APP_SERVER_AUTH + \"/login\", user_object).then(res => {\r\n        localStorage.setItem(\"isAuthenticated\", true);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        navigate(process.env.REACT_APP_PREFIX + \"/dashboard\");\r\n    }).catch(error => {\r\n      localStorage.setItem(\"isAuthenticated\", false);\r\n      if (error.response && error.response.status === 401) {\r\n        setErrorExists(true);\r\n      } else {\r\n        alert(\"Something went wrong. Try again later\")\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={handleFormSubmit}>\r\n      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n        <Form.Label>Username:</Form.Label>\r\n        <Form.Control size=\"lg\" type=\"username\" placeholder=\"Enter usename\"  value={username} onChange={e => setUsername(e.target.value)}/>\r\n      </Form.Group>\r\n    \r\n      <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n        <Form.Label>Password:</Form.Label>\r\n        <Form.Control size=\"lg\" type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)}/>\r\n        {errorExists && <Form.Text className=\"text-muted\">  Wrong username or password </Form.Text>}\r\n      </Form.Group>\r\n\r\n      <Button variant=\"primary\" type=\"submit\" >\r\n        Login\r\n      </Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\n\r\nexport default Login;","import React, {useEffect, useState} from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nconst Home = () => {\r\n \r\n  return (\r\n    <div>\r\n        <h1>Welcome</h1>\r\n        {SignUpAndLoginButton()}  \r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\nconst SignUpAndLoginButton = () => {\r\n  const navigate = useNavigate();\r\n  const [isAuth, setIsAuth] = useState(null)\r\n\r\n  useEffect(() => {\r\n    setIsAuth(localStorage.getItem(\"isAuthenticated\"));\r\n  }, [isAuth]);\r\n\r\n\r\n  async function goToLogIn() {\r\n    navigate(process.env.REACT_APP_PREFIX + \"/login\");\r\n  }\r\n\r\n  async function goToSignUp() {\r\n    navigate(process.env.REACT_APP_PREFIX + \"/signup\");\r\n  }\r\n\r\n  async function goToDashboard() {\r\n    navigate(process.env.REACT_APP_PREFIX + \"/dashboard\");\r\n  }\r\n\r\n\r\n  const returnButtons = (isAuth) => {\r\n    if (isAuth === null || isAuth === \"false\" || isAuth === false){\r\n      return ( <><Col><Button onClick={goToSignUp} >Sign Up</Button></Col> \r\n            <Col><Button onClick={goToLogIn} >Log In</Button></Col></>);\r\n    } else if (isAuth ===\"true\" || isAuth === true){\r\n      return(<Col><Button onClick={goToDashboard} >Dashboard</Button></Col>);\r\n    }\r\n  }\r\n \r\n  return(<Row className=\"mb-3\">\r\n        {returnButtons(isAuth)}\r\n  </Row>);\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst Signup = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const [validated, setValidated] = useState(false);\r\n  const [firstname, setFirstname] = useState('');\r\n  const [lastname, setLastname] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [zipCode, setZipCode] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errors, setErrors] = useState({});\r\n  \r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const allErrors = {};\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.stopPropagation();\r\n      setValidated(false);\r\n    } else {\r\n      const user_object = {\r\n          username: username,\r\n          password: password,\r\n          firstname: firstname,\r\n          lastname: lastname,\r\n          email: email,\r\n          city: city,\r\n          zipCode: zipCode\r\n        };\r\n      \r\n        // sign up request\r\n        axios.post(process.env.REACT_APP_SERVER_AUTH + \"/signup\", user_object).then(res => {\r\n          localStorage.setItem(\"isAuthenticated\", true);\r\n          localStorage.setItem(\"authorization\", res.data.token);\r\n          navigate(process.env.REACT_APP_PREFIX + \"/dashboard\");\r\n        }).catch(error => {\r\n          if (error.response && error.response.status === 412) {\r\n            allErrors.username = \"This username exists select a different username\";\r\n            setErrors(allErrors);\r\n          } else {\r\n            alert(\"Somethign went worng. Try again later.\")\r\n          }\r\n          setValidated(false);\r\n        });\r\n    }\r\n   \r\n  };\r\n\r\n  return (\r\n    <Container>\r\n    <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n        \r\n      <Row className=\"mb-3\">\r\n        <Form.Group as={Col} md=\"4\" controlId=\"validationCustom01\">\r\n          <Form.Label>First name :</Form.Label>\r\n          <Form.Control\r\n            required\r\n            type=\"text\"\r\n            placeholder=\"First name\"\r\n            value={firstname} onChange={e => setFirstname(e.target.value)}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">Please enter your first name</Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group as={Col} md=\"4\" controlId=\"validationCustom02\">\r\n          <Form.Label>Last name :</Form.Label>\r\n          <Form.Control\r\n            required\r\n            type=\"text\"\r\n            placeholder=\"Last name\"\r\n            value={lastname} onChange={e => setLastname(e.target.value)}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">Please enter your last name</Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group as={Col} md=\"4\" controlId=\"validationCustomUsername\">\r\n          <Form.Label>Username :</Form.Label>\r\n          <InputGroup hasValidation>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              aria-describedby=\"inputGroupPrepend\" \r\n              required\r\n              isInvalid={!!errors.username}\r\n              value={username} onChange={e => setUsername(e.target.value)}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {errors.username}\r\n            </Form.Control.Feedback>\r\n          </InputGroup>\r\n        </Form.Group>\r\n      </Row>\r\n\r\n\r\n      <Row className=\"mb-3\">\r\n        <Form.Group as={Col} md=\"4\" controlId=\"formBasicEmail\">\r\n          <Form.Label>Email :</Form.Label>\r\n          <Form.Control required type=\"email\" placeholder=\"Enter email\" value={email} onChange={e => setEmail(e.target.value)}/>\r\n          <Form.Control.Feedback type=\"invalid\">Please enter a valid email.</Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group as={Col} md=\"5\" controlId=\"validationCustom03\">\r\n          <Form.Label>City :</Form.Label>\r\n          <Form.Control type=\"text\" placeholder=\"City\" required value={city} onChange={e => setCity(e.target.value)} />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Please provide a valid city.\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        \r\n        <Form.Group as={Col} md=\"3\" controlId=\"validationCustom05\">\r\n          <Form.Label>Zip Code :</Form.Label>\r\n          <Form.Control type=\"text\" placeholder=\"Zip\" required value={zipCode} onChange={e => setZipCode(e.target.value)}/>\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Please provide a valid zip.\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n      </Row>\r\n\r\n      <Row className=\"mb-1\">\r\n        <Form.Group as={Col} md=\"5\" controlId=\"formBasicPassword\">\r\n          <Form.Label>Password :</Form.Label>\r\n          <Form.Control type=\"password\" placeholder=\"Password\" required value={password} onChange={e => setPassword(e.target.value)}/>\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Please enter your password.\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n      </Row>\r\n\r\n      <Form.Group className=\"mb-3\">\r\n        <Form.Check\r\n          required\r\n          label=\"Agree to terms and conditions\"\r\n          feedback=\"You must agree before submitting.\"\r\n          feedbackType=\"invalid\"\r\n        />\r\n      </Form.Group>\r\n      <Button type=\"submit\">Submit form</Button>\r\n    </Form>\r\n    </Container>\r\n  );\r\n}\r\n\r\n\r\nexport default Signup;","var axios = require(\"axios\");\r\n\r\n\r\nexport function myInterceptor() {\r\n const jwtToken = localStorage.getItem(\"authorization\");\r\n axios.interceptors.request.use(\r\n  function(config) {\r\n    if (jwtToken) {\r\n      config.headers[\"authorization\"] = \"Bearer \" + jwtToken;\r\n    }\r\n    return config;\r\n  },\r\n  function(err) {\r\n    return Promise.reject(err);\r\n  }\r\n)};","import React from \"react\";\r\nimport './Chat.css';\r\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\n\r\nclass Chat extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state =\r\n      {\r\n        username: props.username,\r\n        roomId: props.id,\r\n        content: \"\",\r\n        file: null,\r\n        selectedRoomName: props.selectedRoomName,\r\n        messages: props.messages\r\n        \r\n      };\r\n  }\r\n\r\n  handleMessageChange = (e) => {\r\n    this.setState({content: e.target.value});\r\n    }\r\n\r\n  handleFileChange = (e) => {\r\n    this.setState({file: e.target.files[0]});\r\n  }\r\n\r\n  sendMessage = (event) => {\r\n    event.preventDefault();\r\n    this.props.parentCallback(this.state.content, this.state.roomId, this.state.file);\r\n  }\r\n\r\n  downloadTxtFile = (file) => {\r\n    const element = document.createElement(\"a\");\r\n    const fileBlob = new Blob([file.content], {\r\n      type: file.contentType\r\n    });\r\n    element.href = URL.createObjectURL(fileBlob);\r\n    element.download = file.name;\r\n    document.body.appendChild(element);\r\n    element.click();\r\n  };\r\n\r\n  addFile(file) {\r\n    if (file !== null) {\r\n      return <AttachFileIcon onClick={ () => this.downloadTxtFile(file)}>Download</AttachFileIcon>\r\n      \r\n    }\r\n  }\r\n  render() {\r\n      return (\r\n      <div className=\"chat-container\">\r\n        <h4>{this.state.selectedRoomName}</h4>\r\n        <div className=\"messages-container\">\r\n        {this.state.messages.map((value, i) => {\r\n          if (value.username !== this.state.username){\r\n            return (<div className=\"message-container\" key={i}>\r\n                <Container>\r\n                  <Row className=\"justify-content-md-center\">\r\n                  <Col><p> {value.username}</p></Col>\r\n                  <Col  md=\"auto\"><p>{value.content}</p> </Col>\r\n                  <Col>{this.addFile(value.file)}</Col>\r\n                  </Row>\r\n                </Container>\r\n                <span className=\"time-left\">{value.time}</span>\r\n            </div>)\r\n          } else {\r\n            return (\r\n            <div className=\"message-container darker\" key={i}>\r\n              <Container>\r\n              <Row className=\"justify-content-md-center\">\r\n                <Col><p> Me</p></Col>\r\n                <Col  md=\"auto\"><p>{value.content}</p></Col>\r\n                <Col>{this.addFile(value.file)}</Col>\r\n              </Row>\r\n              </Container>\r\n                <span className=\"time-right\">{value.time}</span>\r\n            </div>)\r\n          }\r\n          })}\r\n       </div>\r\n\r\n        <form className=\"form-message\">\r\n          <input type=\"file\" id=\"file\" name=\"file\" onChange={this.handleFileChange}/>\r\n          <input className=\"message-input\" type=\"text\" name=\"name\" placeholder=\"Type your message\" value={this.state.content} onChange={this.handleMessageChange} />\r\n          <input type=\"submit\" value=\"Send\" onClick={this.sendMessage}/>\r\n          \r\n        </form>\r\n     </div>)\r\n  }\r\n}\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport './Chat.css';\r\nimport axios from \"axios\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\nimport AnnouncementIcon from '@mui/icons-material/Announcement';\r\nimport Chat from \"./Chat\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { myInterceptor } from \"../Interceptors\";\r\nvar stompClient = null;\r\nclass Dashboard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state =\r\n          {\r\n            username: \"\",\r\n            rooms: [],\r\n            content: \"\",\r\n            messages: {},\r\n            error: \"\",\r\n            notifications: [], \r\n            selectedRoom: null,\r\n            selectedRoomName: null\r\n          };\r\n      }\r\n    \r\n    connect = () => {\r\n        const jwtToken = localStorage.getItem(\"authorization\");\r\n        const Stomp = require('stompjs');\r\n        var SockJS = require('sockjs-client');\r\n        SockJS = new SockJS(process.env.REACT_APP_SERVER + '/ws/?access_token=' + jwtToken);\r\n        stompClient = Stomp.over(SockJS);\r\n        stompClient.connect({}, this.onConnected, this.onError);\r\n    }\r\n\r\n    onConnected = () => {\r\n        // Subscribing to all rooms and get the history\r\n        this.state.rooms.forEach( (room) => { \r\n            var id = room.id;\r\n            axios.get(process.env.REACT_APP_SERVER + \"/history/\" + id, ).then(res => {\r\n              this.setState(prevState => ({\r\n                           messages: {   \r\n                              ...prevState.messages,        \r\n                              [id]: res.data\r\n                            }\r\n                          }))\r\n              stompClient.subscribe('/topic/' + id, this.onMessageReceived);\r\n            })\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        axios.get(process.env.REACT_APP_SERVER +\"/all_rooms\")\r\n        .then(res => {\r\n            this.setState({rooms: res.data});\r\n            this.connect();\r\n        })\r\n\r\n        axios.get(process.env.REACT_APP_SERVER +\"/info\")\r\n        .then(res => {\r\n            this.setState({username: res.data});\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n      this.state.rooms.forEach( (room) => {\r\n          var id = room.id;\r\n          stompClient.unsubscribe('/topic/' + id);\r\n      });\r\n    }\r\n   onMessageReceived = (payload) => {\r\n     \r\n        // save message\r\n        var body = JSON.parse(payload.body);\r\n        if (body.username !== this.state.username && body.roomId !== this.state.selectedRoom) {\r\n            let newNotifications = this.state.notifications;\r\n            newNotifications.push(body.roomId);\r\n            this.setState({notifications: newNotifications});\r\n\r\n        }\r\n        \r\n        const id = body.roomId;\r\n        if (body.file != null) {  \r\n          // this messages has a file\r\n          myInterceptor();\r\n          axios.get(process.env.REACT_APP_SERVER +\"/download/\"+body.file.id)\r\n          .then(res => {\r\n              let newMessages = this.state.messages[id];\r\n              newMessages.push({\"username\": body.username, \"content\": body.content, \"time\": body.time, \"file\": {\"name\":body.file.name, \"content\":res.data, \"contentType\":body.file.contentType}});\r\n              this.setState(prevState => ({\r\n                messages: {   \r\n                  ...prevState.messages,        \r\n                  [id]: newMessages\r\n                }\r\n              }))\r\n            })\r\n        } else {\r\n          // this message doesn't have a file\r\n          let newMessages = this.state.messages[id];\r\n          newMessages.push({\"username\": body.username, \"content\": body.content, \"time\": body.time, \"file\":null});\r\n          this.setState(prevState => ({\r\n            messages: {   \r\n              ...prevState.messages,        \r\n              [id]: newMessages\r\n            }\r\n          }))\r\n        }\r\n    }\r\n \r\n    onError = (error) => {\r\n        this.setState({\r\n          error: 'Could not connect you to the Chat Room Server. Please refresh this page and try again!'\r\n        })\r\n      }\r\n\r\n   \r\n    selectRoom = (room) => {\r\n      this.setState({selectedRoom: room.id})\r\n      this.setState({selectedRoomName: room.name});\r\n      \r\n      // delete the notification symbol because the user just opened the chat\r\n      var newNotifications = this.state.notifications;\r\n      const index = newNotifications.indexOf(room.id);\r\n      if (index > -1) {\r\n        newNotifications.splice(index, 1);\r\n        this.setState({notifications: newNotifications});\r\n      }\r\n    }\r\n\r\n    getRooms = () => {\r\n        if (this.state.rooms != null){\r\n          return <ul>\r\n          {this.state.rooms.map((room) => \r\n            <li key={room.id} onClick={() => {this.selectRoom(room)}}>\r\n              <p className=\"room-name\">{room.name} {this.state.notifications.includes(room.id) && <AnnouncementIcon/>} </p>\r\n            </li>)}\r\n          </ul>\r\n        }\r\n      }\r\n\r\n     showSelectedRoom = () => {\r\n        if (this.state.selectedRoom === null) {\r\n            return <p>Select a chat room.</p>\r\n        } else {\r\n          // the user has selected a room\r\n          // show chat and messages\r\n          return (<Chat key={this.state.selectedRoom} id={this.state.selectedRoom} username={this.state.username} selectedRoomName={this.state.selectedRoomName} messages={this.state.messages[this.state.selectedRoom]} parentCallback={this.sendMessage}/>)\r\n        }\r\n    }\r\n\r\n    logout = () => {\r\n        localStorage.clear();\r\n        this.props.navigate(process.env.REACT_APP_PREFIX + '/');\r\n    }\r\n\r\n    sendMessage = (content, roomId, file) => {\r\n        //Create an object of formData\r\n        const formData = new FormData();\r\n        // Update the formData object\r\n        formData.append(\"file\", file);\r\n\r\n        var chatMessage = {\r\n          content: content,\r\n          roomId: roomId\r\n        };\r\n\r\n        formData.append(\"file\", file);\r\n        formData.append(\"message\", new Blob([JSON.stringify(chatMessage)], { type: \"application/json\"}));\r\n\r\n        myInterceptor();\r\n        axios.post(process.env.REACT_APP_SERVER+\"/chat\", formData);\r\n      \r\n    }\r\n    render () {\r\n        return (\r\n        <div className=\"chat-page\">\r\n            <Button onClick={() => {this.logout() }} >Logout</Button>\r\n            <div className=\"chat-box-container\">\r\n            <Container>\r\n                <Row className=\"mb-3 row-container\">\r\n                    <Col className=\"list-scroll list-with-rooms\"> <h4>Chat Rooms</h4> { this.getRooms() }</Col> \r\n                    <Col className=\"list-scroll\">{ this.showSelectedRoom() }</Col>\r\n                </Row>\r\n                </Container>\r\n            </div>\r\n        </div>\r\n      )};\r\n  }\r\n\r\nfunction WithNavigate(props) {\r\n    let navigate = useNavigate();\r\n    return <Dashboard {...props} navigate={navigate} />\r\n}\r\nexport default WithNavigate;","\nimport \"./App.css\";\nimport { BrowserRouter, Route, Routes, Navigate } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport Signup from \"./components/Signup\";\nimport axios from \"axios\";\nimport { myInterceptor } from \"./Interceptors\";\nimport React, { useState, useEffect } from \"react\"; \nimport Dashboard from \"./components/Dashboard\";\nimport Spinner from 'react-bootstrap/Spinner';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      <BrowserRouter>\n        <Routes>\n          <Route exact path={process.env.REACT_APP_PREFIX + \"/login\"} element={<IsAuth redirectTo=\"/dashboard\"> <Login/> </IsAuth>} />\n          <Route exact path={process.env.REACT_APP_PREFIX + \"/signup\"} element={<IsAuth redirectTo=\"/dashboard\"> <Signup/> </IsAuth>} />\n          <Route exact path={process.env.REACT_APP_PREFIX + \"/dashboard\"} element={ <RequireAuth redirectTo=\"/login\"> <Dashboard/> </RequireAuth>}/>\n          <Route exact path={process.env.REACT_APP_PREFIX + \"/\"} element={<Home/>} />\n          <Route path=\"*\" element={<Navigate to={process.env.REACT_APP_PREFIX + \"/\"} />} />\n        </Routes>\n      </BrowserRouter>\n      </header>\n    </div>\n  );\n}\n\nfunction IsAuth({ children, redirectTo }) {\n  const isAuthenticated = localStorage.getItem(\"isAuthenticated\");\n  if (isAuthenticated === true) {\n    return <Navigate to={redirectTo} />\n  } else {\n    return children;\n  }\n}\nfunction RequireAuth({ children, redirectTo }) {\n\n  const [isAuthenticated, setIsAuthenticated] = useState(null);\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    async function isAuth() {\n      try {\n        // set loading to true before calling \n        setLoading(true);\n        const res = await get();\n        localStorage.setItem(\"isAuthenticated\", res);\n        setIsAuthenticated(res);\n        // switch loading to false after fetch is complete\n        setLoading(false);\n      } catch (error) {\n        //TODO: add error handling here\n        setLoading(false);\n        console.log(error);\n      }\n    }\n    isAuth();\n  }, []);\n\n  // TODO: return a Spinner when loading is true\n  if(loading) return (\n    <Spinner animation=\"border\" />\n  );\n\n  if (!isAuthenticated) return (\n    <Navigate to={redirectTo} />\n  );\n  \n  return children;\n}\n\nasync function get() {\n  var isAuthenticated = null;\n  myInterceptor();\n  await axios.get(process.env.REACT_APP_SERVER_AUTH + \"/authorize\")\n  .then(res => {\n    isAuthenticated = true;\n  }).catch (error => { isAuthenticated = false;});\n  return isAuthenticated;\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nwindow.React1 = require('react');"],"sourceRoot":""}